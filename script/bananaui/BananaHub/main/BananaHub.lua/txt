if getgenv().BananaHubLoaded then return end
getgenv().BananaHubLoaded = true

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local Player = Players.LocalPlayer

local gui = Instance.new("ScreenGui", Player:WaitForChild("PlayerGui"))
gui.Name = "BananaHub"
gui.ResetOnSpawn = false

local Main = Instance.new("Frame", gui)
Main.Size = UDim2.fromScale(0,0)
Main.Position = UDim2.fromScale(0.5,0.5)
Main.AnchorPoint = Vector2.new(0.5,0.5)
Main.BackgroundColor3 = Color3.fromRGB(20,20,20)
Main.BackgroundTransparency = 0.15
Main.ClipsDescendants = true
Instance.new("UICorner", Main).CornerRadius = UDim.new(0,22)

local grad = Instance.new("UIGradient", Main)
grad.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(255,220,120)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(255,170,0))
}
grad.Rotation = 25

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1,-60,0,40)
Title.Position = UDim2.new(0,10,0,8)
Title.Text = "üçå Banana Hub"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22
Title.TextColor3 = Color3.new(1,1,1)
Title.BackgroundTransparency = 1
Title.TextXAlignment = Left

local Close = Instance.new("TextButton", Main)
Close.Size = UDim2.fromOffset(36,36)
Close.Position = UDim2.new(1,-46,0,10)
Close.Text = "‚úï"
Close.Font = Enum.Font.GothamBold
Close.TextSize = 20
Close.TextColor3 = Color3.new(1,1,1)
Close.BackgroundColor3 = Color3.fromRGB(30,30,30)
Close.BackgroundTransparency = 0.2
Close.AutoButtonColor = false
Instance.new("UICorner", Close).CornerRadius = UDim.new(1,0)

Close.MouseButton1Click:Connect(function()
	Main.Visible = false
end)

local TabBar = Instance.new("Frame", Main)
TabBar.Size = UDim2.new(1,-20,0,36)
TabBar.Position = UDim2.new(0,10,0,48)
TabBar.BackgroundTransparency = 1

local tabLayout = Instance.new("UIListLayout", TabBar)
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.Padding = UDim.new(0,8)

local Pages = {}

local function NewPage(name)
	local p = Instance.new("Frame", Main)
	p.Size = UDim2.new(1,-20,1,-100)
	p.Position = UDim2.new(0,10,0,90)
	p.BackgroundTransparency = 1
	p.Visible = false
	local l = Instance.new("UIListLayout", p)
	l.Padding = UDim.new(0,10)
	Pages[name] = p
	return p
end

local function SwitchTab(name)
	for _,v in pairs(Pages) do
		v.Visible = false
	end
	if Pages[name] then
		Pages[name].Visible = true
	end
end

local function NewTab(name)
	local b = Instance.new("TextButton", TabBar)
	b.Size = UDim2.new(0,120,1,0)
	b.Text = name
	b.Font = Enum.Font.GothamBold
	b.TextSize = 14
	b.TextColor3 = Color3.new(1,1,1)
	b.BackgroundColor3 = Color3.fromRGB(30,30,30)
	b.BackgroundTransparency = 0.3
	b.AutoButtonColor = false
	Instance.new("UICorner", b).CornerRadius = UDim.new(0,14)
	b.MouseButton1Click:Connect(function()
		SwitchTab(name)
	end)
end

local Test1 = NewPage("Test 1")
local Test2 = NewPage("Test 2")

NewTab("Test 1")
NewTab("Test 2")

SwitchTab("Test 1")

local function Button(parent,text)
	local b = Instance.new("TextButton", parent)
	b.Size = UDim2.new(1,0,0,46)
	b.Text = text
	b.Font = Enum.Font.GothamMedium
	b.TextSize = 16
	b.TextColor3 = Color3.new(1,1,1)
	b.BackgroundColor3 = Color3.fromRGB(30,30,30)
	b.BackgroundTransparency = 0.2
	b.AutoButtonColor = false
	Instance.new("UICorner", b).CornerRadius = UDim.new(0,16)
	local g = Instance.new("UIGradient", b)
	g.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, Color3.fromRGB(255,230,150)),
		ColorSequenceKeypoint.new(1, Color3.fromRGB(255,180,0))
	}
	g.Rotation = 90
end

Button(Test1,"Button Test 1")
Button(Test1,"Button Test 1.2")
Button(Test2,"Button Test 2")
Button(Test2,"Button Test 2.2")

TweenService:Create(Main,TweenInfo.new(0.35,Enum.EasingStyle.Quint),{
	Size = UDim2.fromScale(0.45,0.5)
}):Play()

local drag,startPos,startInput
Main.InputBegan:Connect(function(i)
	if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
		drag=true
		startInput=i.Position
		startPos=Main.Position
	end
end)

UIS.InputChanged:Connect(function(i)
	if drag and (i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch) then
		local d=i.Position-startInput
		Main.Position=UDim2.new(startPos.X.Scale,startPos.X.Offset+d.X,startPos.Y.Scale,startPos.Y.Offset+d.Y)
	end
end)

UIS.InputEnded:Connect(function(i)
	if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
		drag=false
	end
end)

local Toggle = Instance.new("ImageButton", gui)
Toggle.Size = UDim2.fromOffset(56,56)
Toggle.Position = UDim2.fromScale(0.05,0.5)
Toggle.BackgroundTransparency = 1
Toggle.Image = "rbxassetid://7072718367"
Toggle.ZIndex = 20
Instance.new("UICorner", Toggle).CornerRadius = UDim.new(1,0)

Toggle.MouseButton1Click:Connect(function()
	Main.Visible = not Main.Visible
end)

local d2,s2,p2
Toggle.InputBegan:Connect(function(i)
	if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
		d2=true
		s2=i.Position
		p2=Toggle.Position
	end
end)

UIS.InputChanged:Connect(function(i)
	if d2 and (i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch) then
		local d=i.Position-s2
		Toggle.Position=UDim2.new(p2.X.Scale,p2.X.Offset+d.X,p2.Y.Scale,p2.Y.Offset+d.Y)
	end
end)

UIS.InputEnded:Connect(function(i)
	if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
		d2=false
	end
end)
