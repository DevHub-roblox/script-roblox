--// ThaiHub Mobile Aim (Enemy Only / Strong Aim)

getgenv().ThaiHubAim = {
    Enabled = false,
    MaxDistance = 450,   -- táº§m aim
    Smoothness = 0.08,   -- cÃ ng tháº¥p cÃ ng mÆ°á»£t | 1 = lock cá»©ng
    AimPart = "Head"
}

--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

--// UI (1 nÃºt mobile)
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "ThaiHub_MobileAim"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0,150,0,45)
frame.Position = UDim2.new(0.5,-75,0.8,0)
frame.BackgroundColor3 = Color3.fromRGB(20,20,20)
frame.Active = true
frame.Draggable = true
frame.BorderSizePixel = 0
Instance.new("UICorner", frame).CornerRadius = UDim.new(0,12)

local btn = Instance.new("TextButton", frame)
btn.Size = UDim2.new(1,0,1,0)
btn.BackgroundTransparency = 1
btn.Font = Enum.Font.GothamBold
btn.TextSize = 14
btn.TextColor3 = Color3.new(1,1,1)
btn.Text = "ðŸŽ¯ AIM : OFF"

btn.MouseButton1Click:Connect(function()
    ThaiHubAim.Enabled = not ThaiHubAim.Enabled
    btn.Text = ThaiHubAim.Enabled and "ðŸŽ¯ AIM : ON" or "ðŸŽ¯ AIM : OFF"
end)

--// Screen center
local function GetScreenCenter()
    local v = Camera.ViewportSize
    return Vector2.new(v.X / 2, v.Y / 2)
end

--// Check enemy (KHÃ”NG aim Ä‘á»“ng Ä‘á»™i)
local function IsEnemy(plr)
    if LocalPlayer.Team ~= nil and plr.Team ~= nil then
        return plr.Team ~= LocalPlayer.Team
    end
    return true -- game khÃ´ng cÃ³ team
end

--// Get closest ENEMY to screen center
local function GetTarget()
    local closest = nil
    local shortest = math.huge
    local center = GetScreenCenter()

    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer and IsEnemy(plr) and plr.Character then
            local char = plr.Character
            local part = char:FindFirstChild(ThaiHubAim.AimPart)
            local hum = char:FindFirstChildOfClass("Humanoid")

            if part and hum and hum.Health > 0 then
                local pos, visible = Camera:WorldToViewportPoint(part.Position)
                if visible then
                    local dist2D = (Vector2.new(pos.X, pos.Y) - center).Magnitude
                    local dist3D = (part.Position - Camera.CFrame.Position).Magnitude

                    if dist3D <= ThaiHubAim.MaxDistance and dist2D < shortest then
                        shortest = dist2D
                        closest = part
                    end
                end
            end
        end
    end

    return closest
end

--// AIM LOOP (aim nhiá»u Ä‘á»‹ch â€“ tá»± Ä‘á»•i má»¥c tiÃªu)
RunService.RenderStepped:Connect(function()
    if not ThaiHubAim.Enabled then
        return
    end

    local target = GetTarget()
    if target then
        local camPos = Camera.CFrame.Position
        local newCF = CFrame.new(camPos, target.Position)

        if ThaiHubAim.Smoothness >= 1 then
            Camera.CFrame = newCF
        else
            Camera.CFrame = Camera.CFrame:Lerp(newCF, ThaiHubAim.Smoothness)
        end
    end
end)
